<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2016 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Developer's notes</TITLE>
<META NAME="description" CONTENT="Developer's notes">
<META NAME="keywords" CONTENT="especplot">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2016">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="especplot.css">

<LINK REL="next" HREF="node14.html">
<LINK REL="previous" HREF="node11.html">
<LINK REL="up" HREF="especplot.html">
<LINK REL="next" HREF="node13.html">
</HEAD>

<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#0000EE"VLINK="#551A8B" ALINK="#FF0000"><A HREF=http://xmm.esac.esa.int/sas/><IMG SRC="../icons/xmmsaslogo.gif" ALT="XMM-Newton SAS Home Page" HEIGHT=60 WIDTH=60 ALIGN="LEFT"></A>
<DIV ALIGN=RIGHT><B><FONT SIZE=+2>XMM-Newton Science Analysis System</FONT>
<BR>
<BR>
<BR>
especplot (especplot-2.9) [xmmsas_20170112_1337-16.0.0]</B></DIV>
<BR CLEAR=ALL>

<DIV CLASS="navigation"><A HREF="node11.html"><IMG BORDER="0" SRC="../icons/prev.gif" ALT="Future developments"></A>
<A HREF="especplot.html"><IMG BORDER="0" SRC="../icons/up.gif" ALT="Home Page"></A>
<A HREF="node13.html"><IMG BORDER="0" SRC="../icons/next.gif" ALT="CAL usage"></A>
<A HREF="index.html"><IMG BORDER="0" SRC="../icons/home.gif" ALT="Home"></A>

<A HREF="node15.html"><IMG BORDER="0" SRC="../icons/index.gif" ALT="Index"></A>
<BR><IMG BORDER="0" SRC="../icons/bar.gif">
<BR><A  HREF="../packages.html">Meta Index</A> / <A  HREF="especplot.html">Home Page</A></DIV>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION000110000000000000000"></A>
<A NAME="especplot:description:developernotes"></A>
<BR>
Developer's notes
</H1>

<P>
The task first reads the files containing the input source and
background EPIC spectra <A NAME="tex2html17"
  HREF="http://heasarc.gsfc.nasa.gov/docs/heasarc/fits.html">FITS</A> files. Then it checks some of the keywords
existence and validity : <A NAME="492"></A><TT>INSTRUMENT</TT> = 'EMOS1' , 'EMOS2' OR 'EPN'
; <A NAME="494"></A><TT>HDUCLASS</TT> = 'OGIP' ; <A NAME="496"></A><TT>HDUCLAS1</TT> = 'SPECTRUM' ; <A NAME="498"></A><TT>HDUCLAS2</TT>
= 'TOTAL' (for source) and 'BKG' (for background) ; <A NAME="500"></A><TT>HDUCLAS3</TT> =
'COUNT' ; <A NAME="502"></A><TT>CHANTYPE</TT> = 'PI'. If necessary an error is raised and
the task exits properly.

<P>
To determine whether the background spectrum file corresponds to the
source spectrum file, the only checks performed are about number of PI
channels and instrument names which must be the same for the source
and background spectral file.

<P>
The net source spectrum is computed by subtracting channel by channel,
the normalized background spectrum from the source spectrum. The net
source and background spectra are rebinned using the same binning
scheme and then normalized. They are drawn logarithmically with their
error bars on the same page. The X-axis and Y-axis are labelled as
Energy (keV) and counts/s/keV respectively.

<P>
If the device selected is not valid (i.e. does not belong to the list
of devices supported by the task), the task exits properly. The same
happens if the device selected is one of the devices requesting an
output file and the output file is invalid. If the output file
already exists, the task issues a warning and overwrites the output
file, providing that the environment variable SAS_CLOBBER is set to 1
or is unset.

<P>
The following information is added to the plot: the telescope name;
the instrument; its mode of operation; the date of the observation
(start, stop); the source; and the background exposure time. The XMM
observation ID, the name of the target object, and name of the PI are
also indicated on the plot. If some of this information is not
available, a blank string is used.

<P>
<HR> <BR>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL CLASS="ChildLinks">
<LI><A NAME="tex2html182"
  HREF="node13.html">CAL usage</A>
</UL>
<!--End of Table of Child-Links-->

<DIV CLASS="navigation"><IMG BORDER="0" SRC="../icons/bar.gif">
<BR><A HREF="node11.html"><IMG BORDER="0" SRC="../icons/prev.gif" ALT="Future developments"></A>
<A HREF="especplot.html"><IMG BORDER="0" SRC="../icons/up.gif" ALT="Home Page"></A>
<A HREF="node13.html"><IMG BORDER="0" SRC="../icons/next.gif" ALT="CAL usage"></A>
<A HREF="index.html"><IMG BORDER="0" SRC="../icons/home.gif" ALT="Home"></A>

<A HREF="node15.html"><IMG BORDER="0" SRC="../icons/index.gif" ALT="Index"></A>
</DIV>
<!--End of Navigation Panel-->
<ADDRESS>
XMM-Newton SOC/SSC -- 2017-01-12
</ADDRESS>
</BODY>
</HTML>
