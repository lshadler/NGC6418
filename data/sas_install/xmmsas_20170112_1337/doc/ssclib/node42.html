<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2016 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Extract information about the instrument, exposure start time and spacecraft and instrument attitude from a dataset header.</TITLE>
<META NAME="description" CONTENT="Extract information about the instrument, exposure start time and spacecraft and instrument attitude from a dataset header.">
<META NAME="keywords" CONTENT="ssclib">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2016">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="ssclib.css">

<LINK REL="next" HREF="node43.html">
<LINK REL="previous" HREF="node41.html">
<LINK REL="up" HREF="node41.html">
<LINK REL="next" HREF="node43.html">
</HEAD>

<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#0000EE"VLINK="#551A8B" ALINK="#FF0000"><A HREF=http://xmm.esac.esa.int/sas/><IMG SRC="../icons/xmmsaslogo.gif" ALT="XMM-Newton SAS Home Page" HEIGHT=60 WIDTH=60 ALIGN="LEFT"></A>
<DIV ALIGN=RIGHT><B><FONT SIZE=+2>XMM-Newton Science Analysis System</FONT>
<BR>
<BR>
<BR>
ssclib (ssclib-4.32) [xmmsas_20170112_1337-16.0.0]</B></DIV>
<BR CLEAR=ALL>

<DIV CLASS="navigation"><A HREF="node41.html"><IMG BORDER="0" SRC="../icons/prev.gif" ALT="Subroutine shortcuts for manipulating"></A>
<A HREF="node41.html"><IMG BORDER="0" SRC="../icons/up.gif" ALT="Subroutine shortcuts for manipulating"></A>
<A HREF="node43.html"><IMG BORDER="0" SRC="../icons/next.gif" ALT="Spacecraft instrument attitude"></A>
<A HREF="index.html"><IMG BORDER="0" SRC="../icons/home.gif" ALT="Home"></A>

<A HREF="node195.html"><IMG BORDER="0" SRC="../icons/index.gif" ALT="Index"></A>
<BR><IMG BORDER="0" SRC="../icons/bar.gif">
<BR><A  HREF="../packages.html">Meta Index</A> / <A  HREF="ssclib.html">Home Page</A> / <A  HREF="node41.html">Subroutine shortcuts for manipulating</A></DIV>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION00031000000000000000">
Extract information about the instrument, exposure start time and spacecraft and instrument attitude from a dataset header.</A>
</H2>

<P>
<PRE>
  interface getCalInfo
    subroutine getCalInfoName(setName, instrumentId, expStartTimeStamp&amp;
      , scAttitude, instrumAttitude)

      character(*),                 intent(in)  :: setName
      integer(int32),               intent(out) :: instrumentId
      real(double),                 intent(out) :: expStartTimeStamp
      type(SpacecraftAttitudeType), intent(out) :: scAttitude, instrumAttitude
    end subroutine getCalInfoName

    subroutine getCalInfoSet(set, instrumentId, expStartTimeStamp, scAttitude&amp;
      , instrumAttitude)

      type(DataSetT),               intent(in)  :: set
      integer(int32),               intent(out) :: instrumentId
      real(double),                 intent(out) :: expStartTimeStamp
      type(SpacecraftAttitudeType), intent(out) :: scAttitude, instrumAttitude
    end subroutine getCalInfoSet
  end interface
</PRE>

<P>
NOTE that this call also sets the state of the <A NAME="1541"></A><A NAME="tex2html8"
  HREF="../cal/index.html"><SPAN  CLASS="textbf">cal</SPAN></A>
to the returned instrument.

<P>
The <SPAN CLASS="MATH"><IMG
 WIDTH="102" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img30.png"
 ALT="$instrumentId$"></SPAN> and <!-- MATH
 $expStartTimeStamp$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="152" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img31.png"
 ALT="$expStartTimeStamp$"></SPAN> are obtained from respectively from the <A NAME="1545"></A><TT>INSTRUME</TT> and <A NAME="1547"></A><TT>DATE-OBS</TT> keywords of the dataset header. The <SPAN CLASS="MATH"><IMG
 WIDTH="78" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img32.png"
 ALT="$scAttitude$"></SPAN> is read from the <A NAME="1549"></A><TT>RA_PNT</TT>, <A NAME="1551"></A><TT>DEC_PNT</TT> and <A NAME="1553"></A><TT>PA_PNT</TT> keywords (this is actually wrong, since the <SPAN  CLASS="textit">instrument</SPAN> attitude is what should be stored in these, not the spacecraft attitude). The boresight is then obtained for the exposure start time, and <!-- MATH
 $instrumAttitude$
 -->
<SPAN CLASS="MATH"><IMG
 WIDTH="122" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img33.png"
 ALT="$instrumAttitude$"></SPAN> calculated by applying the boresight rotation to <SPAN CLASS="MATH"><IMG
 WIDTH="78" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img32.png"
 ALT="$scAttitude$"></SPAN>.

<P>
<HR> <BR>
<ADDRESS>
XMM-Newton SOC/SSC -- 2017-01-12
</ADDRESS>
</BODY>
</HTML>
