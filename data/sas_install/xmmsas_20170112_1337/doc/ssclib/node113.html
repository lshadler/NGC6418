<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2016 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>allFiltersPassValue</TITLE>
<META NAME="description" CONTENT="allFiltersPassValue">
<META NAME="keywords" CONTENT="ssclib">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2016">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="ssclib.css">

<LINK REL="next" HREF="node114.html">
<LINK REL="previous" HREF="node112.html">
<LINK REL="up" HREF="node108.html">
<LINK REL="next" HREF="node114.html">
</HEAD>

<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#0000EE"VLINK="#551A8B" ALINK="#FF0000"><A HREF=http://xmm.esac.esa.int/sas/><IMG SRC="../icons/xmmsaslogo.gif" ALT="XMM-Newton SAS Home Page" HEIGHT=60 WIDTH=60 ALIGN="LEFT"></A>
<DIV ALIGN=RIGHT><B><FONT SIZE=+2>XMM-Newton Science Analysis System</FONT>
<BR>
<BR>
<BR>
ssclib (ssclib-4.32) [xmmsas_20170112_1337-16.0.0]</B></DIV>
<BR CLEAR=ALL>

<DIV CLASS="navigation"><A HREF="node112.html"><IMG BORDER="0" SRC="../icons/prev.gif" ALT="get1stFilterThisAxis"></A>
<A HREF="node108.html"><IMG BORDER="0" SRC="../icons/up.gif" ALT="Routines which return information"></A>
<A HREF="node114.html"><IMG BORDER="0" SRC="../icons/next.gif" ALT="valueIsPassedByFilter"></A>
<A HREF="index.html"><IMG BORDER="0" SRC="../icons/home.gif" ALT="Home"></A>

<A HREF="node195.html"><IMG BORDER="0" SRC="../icons/index.gif" ALT="Index"></A>
<BR><IMG BORDER="0" SRC="../icons/bar.gif">
<BR><A  HREF="../packages.html">Meta Index</A> / <A  HREF="ssclib.html">Home Page</A> / <A  HREF="node100.html">DSS utilities</A> / <A  HREF="node108.html">Routines which return information</A></DIV>
<!--End of Navigation Panel-->

<H3><A NAME="SECTION00093500000000000000"></A> <A NAME="ssclib:description:allFiltersPassValue"></A>
<BR>
allFiltersPassValue
</H3>

<P>
This returns true EITHER if the specified component contains no filter on the specified axis OR all of the filters of this component and on this axis pass the specified value.

<P>
<B>NOTE</B>: In the original version, it calls <TT>dssFilterName(filter)</TT>,
which may cause Segmenation Fault at the time of writing (Apr 2011).
Therefore it is rewritten with <TT>dssHasFilter()</TT>.
The algorithm is not completely identical, however, in the practical cases
it should not cause any trouble, especially if the FITS files
do not contain multiple DSS in the same dssComp with the same 
axis name and filterName (which should not be the case in any FITS file).
Note that the original and revised algorithms are switched via a parameter
<TT>isUsed_dssFilterName</TT>.

<P>
The revised algorithm is as follows:

<P>

<OL>
<LI>Prepare the array <TT>AryIdFilterT</TT>=<TT>(/ RANGEFILTERT, REGIONFILTERT, ... /)</TT>.
 Then, the loop over <SPAN CLASS="MATH"><IMG
 WIDTH="68" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img119.png"
 ALT="$i=(1..7)$"></SPAN>:
</LI>
<LI>Check whether a filter with the given <TT>axisName</TT> for <TT>AryIdFilterT(i)</TT> exists.
</LI>
<LI>If so, check the consistency with the given <TT>axisValue</TT> in the filter.
</LI>
<LI>Those results are stored in 
    <TT>filterOnThisAxisExists(i)</TT> and <TT>valueIsPassed(i)</TT>.
    For example, if <SPAN CLASS="MATH"><IMG
 WIDTH="51" HEIGHT="17" ALIGN="BOTTOM" BORDER="0"
 SRC="img120.png"
 ALT="$i==2$"></SPAN>, then that is for <TT>filterType==REGIONFILTERT</TT> (for the given <TT>dssComp</TT> and <TT>axisName</TT>).
</LI>
<LI>Finally returns true/false, as described at the top of this comments here.
</LI>
</OL>

<P>
<PRE>
  logical(bool) function allFiltersPassValue(dssComp, axisName, axisValue, filterType)
    type(DScompT),   intent(in) :: dssComp
    character(*), intent(in) :: axisName
    real(single), intent(in) :: axisValue
    integer, intent(in), optional :: filterType
  end function allFiltersPassValue
</PRE>

<P>

<DIV CLASS="navigation"><IMG BORDER="0" SRC="../icons/bar.gif">
<BR><A HREF="node112.html"><IMG BORDER="0" SRC="../icons/prev.gif" ALT="get1stFilterThisAxis"></A>
<A HREF="node108.html"><IMG BORDER="0" SRC="../icons/up.gif" ALT="Routines which return information"></A>
<A HREF="node114.html"><IMG BORDER="0" SRC="../icons/next.gif" ALT="valueIsPassedByFilter"></A>
<A HREF="index.html"><IMG BORDER="0" SRC="../icons/home.gif" ALT="Home"></A>

<A HREF="node195.html"><IMG BORDER="0" SRC="../icons/index.gif" ALT="Index"></A>
</DIV>
<!--End of Navigation Panel-->
<ADDRESS>
XMM-Newton SOC/SSC -- 2017-01-12
</ADDRESS>
</BODY>
</HTML>
