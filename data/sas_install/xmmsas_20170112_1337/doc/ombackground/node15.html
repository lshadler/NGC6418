<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2016 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Algorithm</TITLE>
<META NAME="description" CONTENT="Algorithm">
<META NAME="keywords" CONTENT="ombackground">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2016">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="ombackground.css">

<LINK REL="next" HREF="node16.html">
<LINK REL="previous" HREF="node14.html">
<LINK REL="up" HREF="ombackground.html">
<LINK REL="next" HREF="node16.html">
</HEAD>

<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#0000EE"VLINK="#551A8B" ALINK="#FF0000"><A HREF=http://xmm.esac.esa.int/sas/><IMG SRC="../icons/xmmsaslogo.gif" ALT="XMM-Newton SAS Home Page" HEIGHT=60 WIDTH=60 ALIGN="LEFT"></A>
<DIV ALIGN=RIGHT><B><FONT SIZE=+2>XMM-Newton Science Analysis System</FONT>
<BR>
<BR>
<BR>
ombackground (ombackground-0.5) [xmmsas_20170112_1337-16.0.0]</B></DIV>
<BR CLEAR=ALL>

<DIV CLASS="navigation"><A HREF="node14.html"><IMG BORDER="0" SRC="../icons/prev.gif" ALT="Output Files"></A>
<A HREF="ombackground.html"><IMG BORDER="0" SRC="../icons/up.gif" ALT="Home Page"></A>
<A HREF="node16.html"><IMG BORDER="0" SRC="../icons/next.gif" ALT="Future developments"></A>
<A HREF="index.html"><IMG BORDER="0" SRC="../icons/home.gif" ALT="Home"></A>

<A HREF="node18.html"><IMG BORDER="0" SRC="../icons/index.gif" ALT="Index"></A>
<BR><IMG BORDER="0" SRC="../icons/bar.gif">
<BR><A  HREF="../packages.html">Meta Index</A> / <A  HREF="ombackground.html">Home Page</A></DIV>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION00090000000000000000"></A>
<A NAME="ombackground:description:algorithm"></A>
<BR>
Algorithm
</H1>

<P>
<PRE>
1)   Create a list of all the useable (ie non-null) pixels in the image.
     Loop through the differeent background methods and compute the background value (ie
     counts per pixel). Draw Graph 1.


2)   Place square apertures on the image, trying to avoid sources, and for each one
     use the pixels within it to compute a background using all the differenet methods.
     Draw a histogram of these values (Graph 2). Compute the value of the 
     background-subtracted counts per pixel by summing the pixel counts in each aperture 
     and subtracting the computed background value times
     the number of pixels within it from it. Draw a histogram of these values (Graph 3).

3)   Repeat stage 2 without trying to avoid source regions, to produce graphs 4 and 5.
   

4)   If required, compute a background image and store it in the file specified by the
     parameter backgroundset. The background image is produced by placing a
     box of width specified by the input parameter ``boxwidth'' on each pixel and using
     the pixels within it to compute a value for the mean background.
</PRE>

<P>
<HR> <BR>
<ADDRESS>
XMM-Newton SOC/SSC -- 2017-01-12
</ADDRESS>
</BODY>
</HTML>
