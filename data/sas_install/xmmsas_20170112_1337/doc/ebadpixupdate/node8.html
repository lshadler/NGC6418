<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2016 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Replacing bad pixels instead of adding new ones</TITLE>
<META NAME="description" CONTENT="Replacing bad pixels instead of adding new ones">
<META NAME="keywords" CONTENT="ebadpixupdate">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2016">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="ebadpixupdate.css">

<LINK REL="next" HREF="node9.html">
<LINK REL="previous" HREF="node7.html">
<LINK REL="up" HREF="node3.html">
<LINK REL="next" HREF="node9.html">
</HEAD>

<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#0000EE"VLINK="#551A8B" ALINK="#FF0000"><A HREF=http://xmm.esac.esa.int/sas/><IMG SRC="../icons/xmmsaslogo.gif" ALT="XMM-Newton SAS Home Page" HEIGHT=60 WIDTH=60 ALIGN="LEFT"></A>
<DIV ALIGN=RIGHT><B><FONT SIZE=+2>XMM-Newton Science Analysis System</FONT>
<BR>
<BR>
<BR>
ebadpixupdate (ebadpixupdate-1.10) [xmmsas_20170112_1337-16.0.0]</B></DIV>
<BR CLEAR=ALL>

<DIV CLASS="navigation"><A HREF="node7.html"><IMG BORDER="0" SRC="../icons/prev.gif" ALT="What the task does"></A>
<A HREF="node3.html"><IMG BORDER="0" SRC="../icons/up.gif" ALT="Description"></A>
<A HREF="node9.html"><IMG BORDER="0" SRC="../icons/next.gif" ALT="Examples"></A>
<A HREF="index.html"><IMG BORDER="0" SRC="../icons/home.gif" ALT="Home"></A>

<A HREF="node17.html"><IMG BORDER="0" SRC="../icons/index.gif" ALT="Index"></A>
<BR><IMG BORDER="0" SRC="../icons/bar.gif">
<BR><A  HREF="../packages.html">Meta Index</A> / <A  HREF="ebadpixupdate.html">Home Page</A> / <A  HREF="node3.html">Description</A></DIV>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION00035000000000000000">
Replacing bad pixels instead of adding new ones</A>
</H2>

<P>
In the calibrated events lists generated by the pipeline, the events found
to be on a bad pixel have already been removed. That operation is of course
irreversible.

<P>
But <A NAME="524"></A><A NAME="tex2html23"
  HREF="../epchain/index.html"><SPAN  CLASS="textbf">epchain</SPAN></A>
and <A NAME="528"></A><A NAME="tex2html24"
  HREF="../emchain/index.html"><SPAN  CLASS="textbf">emchain</SPAN></A>
allow to generate events lists
in which all events flagged for rejection (including those on a bad pixel)
are still present. In that case the bad pixel flagging is reversible.
Note that this is not completely true for MOS, because <A NAME="532"></A><A NAME="tex2html25"
  HREF="../emevents/index.html"><SPAN  CLASS="textbf">emevents</SPAN></A>
by default removes the bright pixels and reanalyses events, so that
a double event including a bright pixel will be changed into a single
plus the (flagged) bright pixel. That behaviour may be suppressed
(analysepatterns=N) in which case entire events are flagged, as PN does.

<P>
The <TT>overwrite</TT>=Y option may be used to replace the existing
bad pixels with the new ones instead of adding the new bad pixels
to the old ones. This means the events will be unflagged and
the bad pixel lists reset, for all CCDs declared in <TT>ccds</TT>
or corresponding to the tables in <TT>badpixtables</TT>.

<P>
The bright pixels previously declared on-board (<A NAME="539"></A><TT>BADFLAG</TT>=1) 
will not be removed
from the list of bad pixels by the <TT>overwrite</TT>=Y option
(the list of on-board bright pixels will be incremented).
The corresponding pixels were removed on-board, so they cannot be recovered.
Nevertheless, if the list of on-board bright pixels written by the PPS
or <A NAME="542"></A><A NAME="tex2html26"
  HREF="../emchain/index.html"><SPAN  CLASS="textbf">emchain</SPAN></A>
was wrong, the <TT>replaceonboard</TT>=Y option allows
to replace them and reset the <A NAME="547"></A><TT>CLOSE_TO_ONBOARD_BADPIX</TT> flag.
The other bad pixels will be incremented, unless <TT>overwrite</TT>=Y as well.

<P>
Use those option with caution.
The program will try to check that the events flagged previously
were not already removed, but this is not fool proof.
In a non-interactive context, the <TT>forcereplace</TT>=Y option
should be used to prevent activating the checks.

<P>

<DIV CLASS="navigation"><IMG BORDER="0" SRC="../icons/bar.gif">
<BR><A HREF="node7.html"><IMG BORDER="0" SRC="../icons/prev.gif" ALT="What the task does"></A>
<A HREF="node3.html"><IMG BORDER="0" SRC="../icons/up.gif" ALT="Description"></A>
<A HREF="node9.html"><IMG BORDER="0" SRC="../icons/next.gif" ALT="Examples"></A>
<A HREF="index.html"><IMG BORDER="0" SRC="../icons/home.gif" ALT="Home"></A>

<A HREF="node17.html"><IMG BORDER="0" SRC="../icons/index.gif" ALT="Index"></A>
</DIV>
<!--End of Navigation Panel-->
<ADDRESS>
XMM-Newton SOC/SSC -- 2017-01-12
</ADDRESS>
</BODY>
</HTML>
