<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2016 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Parameters</TITLE>
<META NAME="description" CONTENT="Parameters">
<META NAME="keywords" CONTENT="region">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2016">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="region.css">

<LINK REL="next" HREF="node12.html">
<LINK REL="previous" HREF="node3.html">
<LINK REL="up" HREF="region.html">
<LINK REL="next" HREF="node12.html">
</HEAD>

<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#0000EE"VLINK="#551A8B" ALINK="#FF0000"><A HREF=http://xmm.esac.esa.int/sas/><IMG SRC="../icons/xmmsaslogo.gif" ALT="XMM-Newton SAS Home Page" HEIGHT=60 WIDTH=60 ALIGN="LEFT"></A>
<DIV ALIGN=RIGHT><B><FONT SIZE=+2>XMM-Newton Science Analysis System</FONT>
<BR>
<BR>
<BR>
region (region-7.13) [xmmsas_20170112_1337-16.0.0]</B></DIV>
<BR CLEAR=ALL>

<DIV CLASS="navigation"><A HREF="node10.html"><IMG BORDER="0" SRC="../icons/prev.gif" ALT="Local-background region shapes and"></A>
<A HREF="region.html"><IMG BORDER="0" SRC="../icons/up.gif" ALT="Home Page"></A>
<A HREF="node12.html"><IMG BORDER="0" SRC="../icons/next.gif" ALT="Errors"></A>
<A HREF="index.html"><IMG BORDER="0" SRC="../icons/home.gif" ALT="Home"></A>

<A HREF="node19.html"><IMG BORDER="0" SRC="../icons/index.gif" ALT="Index"></A>
<BR><IMG BORDER="0" SRC="../icons/bar.gif">
<BR><A  HREF="../packages.html">Meta Index</A> / <A  HREF="region.html">Home Page</A></DIV>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION00040000000000000000">
Parameters</A>
</H1>This section documents the parameters recognized by this task (if any).
<BR><br><table width="100%" border=0 cellpadding=0 cellspacing=1>
<tr valign=top bgcolor='yellow'><td><b>Parameter</b></td><td><b>Mand </b></td><td><b>Type </b></td><td><b>Default </b></td><td><b>Constraints </b></td></tr>
<A NAME="region:description:parameters"></A>
<A NAME="712"></A>
<tr valign=top bgcolor='silver'><td><b>eventset</b></td><td>yes</td><td><A HREF=../param/node3.html>dataset</A></td><td>dummy_default</td><td>&nbsp;</td></tr>

<tr valign=top><td colspan=5>
    Reference event file used to define the coordinate system for the source and background regions. In general this should be the event list which is to be filtered by the regions.
  <br>&nbsp;</td></tr>

<A NAME="719"></A>
<tr valign=top bgcolor='silver'><td><b>tempset</b></td><td>yes</td><td><A HREF=../param/node3.html>dataset</A></td><td>tempset.ds</td><td>&nbsp;</td></tr>

<tr valign=top><td colspan=5>
    Name of a temporary, internally-accessed dataset to hold the filtered source list. It is only of importance for pcms (or other parallel) calls of region.
  <br>&nbsp;</td></tr>

<A NAME="726"></A>
<tr valign=top bgcolor='silver'><td><b>srclisttab</b></td><td>yes</td><td><A HREF=../param/node3.html>table</A></td><td>dummy_default</td><td>&nbsp;</td></tr>

<tr valign=top><td colspan=5>
    The name (in <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img11.png"
 ALT="$&lt;$"></SPAN>dataset name<SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img12.png"
 ALT="$&gt;$"></SPAN>:<SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img11.png"
 ALT="$&lt;$"></SPAN>table name<SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img12.png"
 ALT="$&gt;$"></SPAN> format) of the FITS table containing the sources.
  <br>&nbsp;</td></tr>

<A NAME="733"></A>
<tr valign=top bgcolor='silver'><td><b>expression</b></td><td>no</td><td><A HREF=../param/node3.html>string</A></td><td>&nbsp;</td><td>&nbsp;</td></tr>

<tr valign=top><td colspan=5>
    A selection expression used to filter the source list. The selection expression should adhere to the <A NAME="741"></A><A NAME="tex2html11"
  HREF="../selectlib/index.html"><SPAN  CLASS="textbf">selectlib</SPAN></A>
grammar and should contain as arguments only keywords and column names actually present in the source list table.
  <br>&nbsp;</td></tr>

<A NAME="745"></A>
<tr valign=top bgcolor='silver'><td><b>operationstyle</b></td><td>no</td><td><A HREF=../param/node3.html>string</A></td><td>single</td><td>single|batch|global</td></tr>

<tr valign=top><td colspan=5>
    See section <A HREF="node4.html#region:description:Modes">3.1</A> for a detailed description.
  <br>&nbsp;</td></tr>

<A NAME="753"></A>
<tr valign=top bgcolor='silver'><td><b>usersrcid</b></td><td>yes</td><td><A HREF=../param/node3.html>integer</A></td><td>1</td><td><SPAN CLASS="MATH"><IMG
 WIDTH="29" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img13.png"
 ALT="$1\le$"></SPAN>usersrcid<SPAN CLASS="MATH"><IMG
 WIDTH="53" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img14.png"
 ALT="$\le 9999$"></SPAN></td></tr>

<tr valign=top><td colspan=5>
    If <TT>operationstyle</TT>=`single', the task looks in this parameter for the row number of the source list (<SPAN  CLASS="textit">after</SPAN> the list is filtered via <TT>expression</TT>) for which to construct source and local-background event-extraction regions.
  <br>&nbsp;</td></tr>

<A NAME="765"></A>
<tr valign=top bgcolor='silver'><td><b>srcidcol</b></td><td>yes</td><td><A HREF=../param/node3.html>string</A></td><td>dummy_default</td><td>&nbsp;</td></tr>

<tr valign=top><td colspan=5>
    If <TT>operationstyle</TT>=`batch', the task looks in this parameter for the name of the column in which to look for a (unique) source id integer. Source and local-background event-extraction regions are constructed for each source in the (<TT>expression</TT>-filtered) list and stored in separate binary table extensions in two datasets, one dataset for the source regions, the other for the local-background regions. The names of the extensions are constructed using the unique id integers (see section <A HREF="node14.html#region:description:outputfiles">7</A>).  This parameter is then written in the header attribute <TT>SRCIDCOL</TT> in the output source and background region files.
  <br>&nbsp;</td></tr>

<A NAME="778"></A>
<tr valign=top bgcolor='silver'><td><b>shrinkconfused</b></td><td>no</td><td><A HREF=../param/node3.html>bool</A></td><td>yes</td><td>&nbsp;</td></tr>

<tr valign=top><td colspan=5>
    Whether to shrink extraction regions until they don't overlap. See section <A HREF="node9.html#region:description:shrink">3.5</A>.
  <br>&nbsp;</td></tr>

<A NAME="786"></A>
<tr valign=top bgcolor='silver'><td><b>radiusstyle</b></td><td>no</td><td><A HREF=../param/node3.html>string</A></td><td>userfixed</td><td>userfixed|enfrac|contour</td></tr>

<tr valign=top><td colspan=5>
    This governs the way in which the size and shape of the source extraction region is calculated. See section <A HREF="node7.html#region:description:radius">3.4</A> for a detailed description.
  <br>&nbsp;</td></tr>

<A NAME="794"></A>
<tr valign=top bgcolor='silver'><td><b>fixedradius</b></td><td>no</td><td><A HREF=../param/node3.html>real</A></td><td>12.0</td><td><SPAN CLASS="MATH"><IMG
 WIDTH="41" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img15.png"
 ALT="$0.0\le$"></SPAN>fixedradius</td></tr>

<tr valign=top><td colspan=5>
    If <TT>radiusstyle</TT>=`userfixed', the task looks in this parameter for the radius (in arcseconds) to be used for all source extraction regions.
  <br>&nbsp;</td></tr>

<A NAME="803"></A>
<tr valign=top bgcolor='silver'><td><b>energyfraction</b></td><td>no</td><td><A HREF=../param/node3.html>real</A></td><td>0.9</td><td><SPAN CLASS="MATH"><IMG
 WIDTH="29" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img16.png"
 ALT="$0\le$"></SPAN>fixedradius<SPAN CLASS="MATH"><IMG
 WIDTH="29" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img17.png"
 ALT="$&lt;1$"></SPAN></td></tr>

<tr valign=top><td colspan=5>
    If <TT>radiusstyle</TT>=`enfrac', the task looks in this parameter for an energy fraction between 0 and 1. This is used to calculate a radius for the source extraction regions via the <A NAME="814"></A><A NAME="tex2html12"
  HREF="../cal/index.html"><SPAN  CLASS="textbf">cal</SPAN></A>
library call CAL_psfEncircledEnergy.

Note that the actual PSF energy fraction contained within the region circle may (because the <A NAME="818"></A><A NAME="tex2html13"
  HREF="../cal/index.html"><SPAN  CLASS="textbf">cal</SPAN></A>
returns the PSF in pixellized form) differ slightly from the value specified via the present parameter.
  <br>&nbsp;</td></tr>

<A NAME="822"></A>
<tr valign=top bgcolor='silver'><td><b>bkgratestyle</b></td><td>no</td><td><A HREF=../param/node3.html>string</A></td><td>col</td><td>user|col|kwdset|image</td></tr>

<tr valign=top><td colspan=5>
    If <TT>radiusstyle</TT>=`contour', the source extraction regions are calculated by a `contour' method, described in section <A HREF="node8.html#region:description:contour">3.4.1</A>. The task first obtains an analytical model of the PSF, for which contours of equal brightness are elliptical in shape. Thus, given the normalization of the PSF (ie, source brightness) and a brightness contour level equal to the local background times a multiplying constant (provided via the parameter <TT>bkgfraction</TT>), an elliptical shape can be calculated for the source extraction region. In order to calculate such a contour there must be some way to specify the local background level. <TT>bkgratestyle</TT> provides four alternatives (however at present only two of these are implemented), each of which requires a different additional parameter. These alternatives are described under the appropriate parameter name.
  <br>&nbsp;</td></tr>

<A NAME="836"></A>
<tr valign=top bgcolor='silver'><td><b>bkgratecol</b></td><td>no</td><td><A HREF=../param/node3.html>string</A></td><td>BG_MAP</td><td>&nbsp;</td></tr>

<tr valign=top><td colspan=5>
    If <TT>radiusstyle</TT>=`contour' and <TT>bkgratestyle</TT>=`col', in theory the column name containing the background flux values is read from the present parameter. However this is not yet implemented - `BG_MAP' is hard-wired into the code.
  <br>&nbsp;</td></tr>

<A NAME="847"></A>
<tr valign=top bgcolor='silver'><td><b>bkgrateuser</b></td><td>no</td><td><A HREF=../param/node3.html>real</A></td><td>1.0</td><td><SPAN CLASS="MATH"><IMG
 WIDTH="41" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img18.png"
 ALT="$0.0&lt;$"></SPAN>bkgrateuser</td></tr>

<tr valign=top><td colspan=5>
    If <TT>radiusstyle</TT>=`contour' and <TT>bkgratestyle</TT>=`user', the background flux may be entered here. Note that it should be in a unit compatible with the source brightness. Since source brightness is at present `hard-wired' to come from <A NAME="859"></A><TT>SCTS</TT> column of the source list, this `compatible unit' must at present necessarily be counts/pixel.
  <br>&nbsp;</td></tr>

<A NAME="861"></A>
<tr valign=top bgcolor='silver'><td><b>bkgfraction</b></td><td>no</td><td><A HREF=../param/node3.html>real</A></td><td>1.0</td><td><SPAN CLASS="MATH"><IMG
 WIDTH="41" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img18.png"
 ALT="$0.0&lt;$"></SPAN>bkgfraction</td></tr>

<tr valign=top><td colspan=5>
    As described in section <A HREF="node8.html#region:description:contour">3.4.1</A> and also in the <TT>bkgratestyle</TT> parameter description, the contour method of obtaining a source region shape requires a flux level to be specified via two values: a value of the local background flux <SPAN CLASS="MATH"><IMG
 WIDTH="13" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img19.png"
 ALT="$\phi$"></SPAN> (which can be specified in a number of ways, switched via parameter <TT>bkgratestyle</TT>), and a number by which this value is to be multiplied (given via the present parameter). Thus the source region is returned as that shape for which the PSF function equals <SPAN CLASS="MATH"><IMG
 WIDTH="26" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img20.png"
 ALT="$\phi \times$"></SPAN> <TT>bkgfraction</TT>.
  <br>&nbsp;</td></tr>

<A NAME="875"></A>
<tr valign=top bgcolor='silver'><td><b>nosrcellipse</b></td><td>no</td><td><A HREF=../param/node3.html>bool</A></td><td>no</td><td>&nbsp;</td></tr>

<tr valign=top><td colspan=5>
    If <TT>radiusstyle</TT>=`contour', the shapes of the source extraction regions are in general elliptical. If this is not desired, they may be converted to circles of radii equal to the greater semiaxis of the respective ellipses.
  <br>&nbsp;</td></tr>

<A NAME="884"></A>
<tr valign=top bgcolor='silver'><td><b>fovbkgannulus</b></td><td>no</td><td><A HREF=../param/node3.html>bool</A></td><td>no</td><td>&nbsp;</td></tr>

<tr valign=top><td colspan=5>
    Local-background annuli may be concentric about either the optic axis or the source location (see section <A HREF="node10.html#region:description:localbkg">3.6</A>). The present parameter provides the switch for this behaviour.
  <br>&nbsp;</td></tr>

<A NAME="892"></A>
<tr valign=top bgcolor='silver'><td><b>outunit</b></td><td>no</td><td><A HREF=../param/node3.html>string</A></td><td>xy</td><td>detxy|xy</td></tr>

<tr valign=top><td colspan=5>
    Specifies the spatial coordinate system for the output event-extraction regions. DETXY is equivalent to the CAMCOORD2 system described in the <A NAME="905"></A><A NAME="tex2html14"
  HREF="../cal/index.html"><SPAN  CLASS="textbf">cal</SPAN></A>
task documentation, except that the units are 0.05 arcseconds instead of mm. The standard XMM EPIC event lists contain event coordinates in <A NAME="909"></A><TT>DETX</TT> and <A NAME="911"></A><TT>DETY</TT> columns. The XY system refers to <A NAME="913"></A><TT>X</TT> and <A NAME="915"></A><TT>Y</TT> column values of the standard event lists. These pairs of values give the location of the event on a tangential projection plane and are calculated (using task <A NAME="917"></A><A NAME="tex2html15"
  HREF="../attcalc/index.html"><SPAN  CLASS="textbf">attcalc</SPAN></A>) shortly after the event list is created in order to save time when the product images are extracted. (Images in several energy bands are generally extracted but they all share the same projection plane.) The units of the XY system are 0.05 arcseconds, same as DETXY.

Note that this parameter is not case-sensitive.
  <br>&nbsp;</td></tr>

<A NAME="921"></A>
<tr valign=top bgcolor='silver'><td><b>nobkgellipse</b></td><td>no</td><td><A HREF=../param/node3.html>bool</A></td><td>no</td><td>&nbsp;</td></tr>

<tr valign=top><td colspan=5>
    The DETXY and XY coordinate systems are not coplanar. Thus circles in DETXY become transformed to ellipses in XY. As described in section <A HREF="node10.html#region:description:localbkg">3.6</A>, it may be desirable to construct local-background annuli as circular annuli in the DETXY system, concentric about the optic axis (OA), because contours of the vignetting function follow (broadly speaking) a similar form. If <TT>outunit</TT>=`xy', such contours become distorted to ellipses, so normally if <TT>fovbkgannulus</TT>=`yes' the background annuli are distorted to ellipses in the same way. However in the (possibly unlikely) event that this distortion may not be desired, the present parameter has been provided. If <TT>nobkgellipse</TT>=`yes', local-background annuli will not be transformed to ellipses in XY but will remain circular. The radius conversion factor is taken from the smaller of the XY-system pixel dimensions expressed in DETXY coordinates.
  <br>&nbsp;</td></tr>

<A NAME="935"></A>
<tr valign=top bgcolor='silver'><td><b>regionset</b></td><td>no</td><td><A HREF=../param/node3.html>dataset</A></td><td>src_region.ds</td><td>&nbsp;</td></tr>

<tr valign=top><td colspan=5>
    The dataset in which source extraction regions are stored.
  <br>&nbsp;</td></tr>

<A NAME="942"></A>
<tr valign=top bgcolor='silver'><td><b>bkgregionset</b></td><td>no</td><td><A HREF=../param/node3.html>dataset</A></td><td>bkg_region.ds</td><td>&nbsp;</td></tr>

<tr valign=top><td colspan=5>
    The dataset in which background (either local or global) extraction regions are stored.
  <br>&nbsp;</td></tr>

<tr valign=top bgcolor='yellow'><td><b>Parameter</b></td><td><b>Mand </b></td><td><b>Type </b></td><td><b>Default </b></td><td><b>Constraints </b></td></tr>
</table>

<P>

<DIV CLASS="navigation"><IMG BORDER="0" SRC="../icons/bar.gif">
<BR><A HREF="node10.html"><IMG BORDER="0" SRC="../icons/prev.gif" ALT="Local-background region shapes and"></A>
<A HREF="region.html"><IMG BORDER="0" SRC="../icons/up.gif" ALT="Home Page"></A>
<A HREF="node12.html"><IMG BORDER="0" SRC="../icons/next.gif" ALT="Errors"></A>
<A HREF="index.html"><IMG BORDER="0" SRC="../icons/home.gif" ALT="Home"></A>

<A HREF="node19.html"><IMG BORDER="0" SRC="../icons/index.gif" ALT="Index"></A>
</DIV>
<!--End of Navigation Panel-->
<ADDRESS>
XMM-Newton SOC/SSC -- 2017-01-12
</ADDRESS>
</BODY>
</HTML>
