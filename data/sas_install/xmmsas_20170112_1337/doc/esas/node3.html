<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2016 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Description</TITLE>
<META NAME="description" CONTENT="Description">
<META NAME="keywords" CONTENT="esas">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2016">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="esas.css">

<LINK REL="next" HREF="node4.html">
<LINK REL="previous" HREF="node2.html">
<LINK REL="up" HREF="esas.html">
<LINK REL="next" HREF="node4.html">
</HEAD>

<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#0000EE"VLINK="#551A8B" ALINK="#FF0000"><A HREF=http://xmm.esac.esa.int/sas/><IMG SRC="../icons/xmmsaslogo.gif" ALT="XMM-Newton SAS Home Page" HEIGHT=60 WIDTH=60 ALIGN="LEFT"></A>
<DIV ALIGN=RIGHT><B><FONT SIZE=+2>XMM-Newton Science Analysis System</FONT>
<BR>
<BR>
<BR>
esas (esas-0.9.39) [xmmsas_20170112_1337-16.0.0]</B></DIV>
<BR CLEAR=ALL>

<DIV CLASS="navigation"><A HREF="node2.html"><IMG BORDER="0" SRC="../icons/prev.gif" ALT="Use"></A>
<A HREF="esas.html"><IMG BORDER="0" SRC="../icons/up.gif" ALT="Home Page"></A>
<A HREF="node4.html"><IMG BORDER="0" SRC="../icons/next.gif" ALT="Parameters"></A>
<A HREF="index.html"><IMG BORDER="0" SRC="../icons/home.gif" ALT="Home"></A>

<A HREF="node12.html"><IMG BORDER="0" SRC="../icons/index.gif" ALT="Index"></A>
<BR><IMG BORDER="0" SRC="../icons/bar.gif">
<BR><A  HREF="../packages.html">Meta Index</A> / <A  HREF="esas.html">Home Page</A></DIV>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION00030000000000000000"></A>
<A NAME="esas:description:description"></A>
<BR>
Description
</H1>

<P>
This package consists of a collection of <I>XMM-Newton</I> Extended
Source Analysis Software (XMM-ESAS) tasks originally developed by
Snowden, et al. and released as a stand-alone package in 2008. This
package follows the methods outlined in Snowden et al.
(2008)[<A
 HREF="node10.html#SanA">1</A>] for the analysis of extended objects and the diffuse
background using <I>XMM-Newton</I> EPIC MOS and pn observations.

<P>
Two separate features are incorporated into ESAS; the capability
of creating model quiescent particle background spectra (Kuntz &amp;
Snowden 2008)[<A
 HREF="node10.html#SanB">2</A>] for user defined regions of the detectors and
the capability of creating background subtracted and exposure
corrected images.  Also included in the XMM-ESAS package is software
to mosaic multiple and not necessarily coaligned observations of
regions on the sky.

<P>
SAS/ESAS Task Descriptions:

<P>
FORTRAN routines:

<P>

<UL>
<LI><I>adapt</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> FORTRAN
    <DL COMPACT>
<DT> </DT>
<DD><I>adapt</I> is an adaptive filtering routine used
             to create smoothed background subtracted and exposure
             corrected images for individual exposures or exposures 
             from a single observation combined by the task <I>comb</I>.
             For each unmasked pixel, the 
             program will average neighboring pixels within a circle of 
             increasing radius until a selected number of counts is reached. 
             The original pixel is then given the average surface brightness 
             for the pixels within the circle. Images can also be binned 
             before smoothing.
    
</DD>
</DL>
</LI>
<LI><I>adapt_merge</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> FORTRAN
    <DL COMPACT>
<DT> </DT>
<DD><I>adapt_merge</I> adaptively smooths background subtracted 
             and exposure corrected mosaicked images using the output of 
             <I>merge_comp_xmm</I>. For each unmasked pixel, the program will 
             average neighboring pixels within a circle of increasing radius 
             until a selected number of counts from the count image is reached. 
             The original pixel is then given the average surface brightness 
             for the pixels within the circle. The images can also be binned 
             before smoothing.
    
</DD>
</DL>
</LI>
<LI><I>bin_image</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> FORTRAN
    <DL COMPACT>
<DT> </DT>
<DD><I>bin_image</I>  produces binned count rate and count-rate 
             uncertainty images of single observations. It can use either 
             individual exposures or the output 
             of the program <I>comb</I> which can 
             merge all of the exposures associated with a single ObsID. For 
             each unmasked and binned pixel, the program will determine the 
             average count rate and the count rate uncertainty. The assumption 
             is that the uncertainty is dominated by the counting statistics 
             and the the systematics of the background modeling. Integer 
             binning, including by 1 for no binning, is supported.
    
</DD>
</DL> 
</LI>
<LI><I>bin_image_merge</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> FORTRAN
    <DL COMPACT>
<DT> </DT>
<DD><I>bin_image_merge</I> bins mosaicked images 
             combined by the task <I>merge_comp_xmm</I> into count rate 
             and count rate uncertainty images. For 
             each unmasked and binned pixel, the program will determine the 
             average count rate and the count rate uncertainty. The assumption 
             is that the uncertainty is dominated by the counting statistics 
             and the the systematics of the background modeling. Integer 
             binning, including by 1 for no binning, is supported.
    
</DD>
</DL> 
</LI>
<LI><I>clean</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> PERL
    <DL COMPACT>
<DT> </DT>
<DD><I>clean</I> deletes a number of intermediate and unneeded
             files after the processing is complete.
    
</DD>
</DL> 
</LI>
<LI><I>cheese</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> PERL
    <DL COMPACT>
<DT> </DT>
<DD><I>cheese</I> does source detection and creates cheese
             masks for point-source masking during image processing.
             <I>cheese</I> allows the user to set a flux threshold
             over the field for the removal of the source contributions
             to the spectra as well as the images.
    
</DD>
</DL>
</LI>
<LI><I>cheese-bands</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> PERL
    <DL COMPACT>
<DT> </DT>
<DD><I>cheese-bands</I> does source detection and creates cheese
             masks for point-source masking during image processing in three 
             bands: soft, hard, and combined.
             <I>cheese-bands</I> allows the user to set a flux threshold
             over the field for the removal of the source contributions
             to the spectra as well as the images.
    
</DD>
</DL>
</LI>
<LI><I>comb</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> FORTRAN
    <DL COMPACT>
<DT> </DT>
<DD><I>comb</I> combines co-aligned event, exposure,
             QPB, SP, and SWCX background images from
             different exposures and different instruments from the same
             ObsID.
    
</DD>
</DL>
</LI>
<LI><I>conv_reg</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> FORTRAN
    <DL COMPACT>
<DT> </DT>
<DD><I>conv_reg</I> converts region information in celestial 
             coordinates into region information in detector coordinates.  It
             will do so for region fits files, ascii lists, or individual 
             regions. <B>Development in progress.</B>
    
</DD>
</DL>
</LI>
<LI><I>conv-region</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> PERL
    <DL COMPACT>
<DT> </DT>
<DD><I>conv-region</I> converts a region file in celestial 
             coordinates into regions files in detector coordinates for
             all active detectors in all observations in a list of ObsIDs.
             <B>Development in progress.</B>
    
</DD>
</DL>
</LI>
<LI><I>make_mask</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> FORTRAN
    <DL COMPACT>
<DT> </DT>
<DD><I>make_mask</I> is called by the task 
             <I>cheese</I> to produce a cheese mask.
    
</DD>
</DL> 
</LI>
<LI><I>make_mask_merge</I>  <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> FORTRAN
    <DL COMPACT>
<DT> </DT>
<DD><I>make_mask_merge</I> produces cheese masks in the
              total band (<I>cheese</I>) or soft, hard, and combined bands 
              (<I>cheese-bands</I>) using a merged source list produced by 
              the task <I>merge-source-list</I> from the maximum likelihood 
              source lists produced by <I>cheese</I> or <I>cheese-bands</I>.
    
</DD>
</DL>
</LI>
<LI><I>merge_comp_xmm</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> FORTRAN
    <DL COMPACT>
<DT> </DT>
<DD><I>merge_comp_xmm</I> creates mosaicked count, exposure, 
              QPB, SP, and SWCX background images for multiple observations 
              and exposures.
    
</DD>
</DL>
</LI>
<LI><I>merge_source_list</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> FORTRAN
    <DL COMPACT>
<DT> </DT>
<DD><I>merge_source_list</I> creates a master list of 
              sources detected from a list of observations which have been 
              processed to the point of a creating an emldetect source lists 
              produced by <I>cheese</I> or <I>cheese-bands</I>.  
              Sources are compared and those within 2" of each other have 
              the one with the lower flux thrown out. 
    
</DD>
</DL>
</LI>
<LI><I>mos_back</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> FORTRAN
    <DL COMPACT>
<DT> </DT>
<DD><I>mos_back</I> takes the output of the perl script
             <I>mos-spectra</I> and creates quiescent particle background (QPB)
             spectra and images in detector coordinates, as selected, for
             EPIC MOS data.
    
</DD>
</DL>
</LI>
<LI><I>mos-filter</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> PERL
    <DL COMPACT>
<DT> </DT>
<DD><I>mos-filter</I> filters
             and cleans the event files of SP contamination
             using the SAS task <I>espfilt</I>.  Along with a filtered event
             file it produces a QDP plot file showing the observation light
             curves and indicates the accepted time intervals.
    
</DD>
</DL>
</LI>
<LI><I>mos-spectra</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> PERL
    <DL COMPACT>
<DT> </DT>
<DD><I>mos-spectra</I> processes the filtered event files from 
             the task <I>mos-filter</I> to
             produce a set of intermediate files for the production of QPB 
             background spectra and images.  <I>mos-spectra</I> also produces
             source spectra and the appropriate Redistribution Matrix
             Files, RMFs, and Ancillary Region Files, ARFs, for spectral
             analysis.
    
</DD>
</DL>

</LI>
<LI><I>pn_back</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> FORTRAN
    <DL COMPACT>
<DT> </DT>
<DD><I>pn_back</I> takes the output of
             <I>pn-spectra</I> and creates QPB
             spectra and images in detector coordinates, as selected, for
             EPIC pn data.
    
</DD>
</DL>
</LI>
<LI><I>pn-filter</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> PERL
    <DL COMPACT>
<DT> </DT>
<DD><I>pn-filter</I> is the initial processing script for
             pn data and it performs the same tasks as <I>mos-filter</I>
             for MOS data.  Each exposure is processed
             in both normal and out-of-time (OOT) modes.
    
</DD>
</DL>
</LI>
<LI><I>pn-spectra</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> PERL
    <DL COMPACT>
<DT> </DT>
<DD><I>pn-spectra</I> provides the same functions for pn
             data as <I>mos-spectra</I> provides for the MOS.  However,
             it also creates spectra and images from the out-of-time
              processing.
    
</DD>
</DL>
</LI>
<LI><I>point_source</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> FORTRAN
    <DL COMPACT>
<DT> </DT>
<DD><I>point_source</I> calculates the appropriate Xspec
             normalization for the extragalactic background given the
             user-selected point-source exclusion threshold.
    
</DD>
</DL>
</LI>
<LI><I>proton</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> FORTRAN
    <DL COMPACT>
<DT> </DT>
<DD><I>proton</I> produces images in detector coordinates
             of the model residual soft proton (SP) contamination.  To 
             do so, it uses the fitted values of the SP component from
             Xspec and standard detector maps.
    
</DD>
</DL>
</LI>
<LI><I>proton_scale</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> FORTRAN
    <DL COMPACT>
<DT> </DT>
<DD><I>proton_scale</I> extracts the appropriate
             scale factors for the solid angle and relative SP
             contributions to include in spectral fitting.
    
</DD>
</DL>
</LI>
<LI><I>rot_det_sky</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> FORTRAN
    <DL COMPACT>
<DT> </DT>
<DD><I>rot_det_sky</I> is called by the
             <I>rot-im-det-sky</I> task.  It does the heavy lifting of 
             rotating the QPB images output from <I>mos_back</I> and 
             <I>pn_back</I>, the SP images output from <I>proton</I>, and 
             the SWCX output from <I>swcx</I> which are in detector
             coordinates, into images in sky coordinates. 
    
</DD>
</DL>
</LI>
<LI><I>rot-im-det-sky</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> PERL
    <DL COMPACT>
<DT> </DT>
<DD><I>rot-im-det-sky</I> rotates both the model QPB, 
             SP, and SWCX background images from detector
             coordinates to sky coordinates.
    
</DD>
</DL>
</LI>
<LI><I>sp_partial</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> FORTRAN
    <DL COMPACT>
<DT> </DT>
<DD><I>sp_partial</I> scales the SP spectral fit
             results from a limited region of the detector to the full
             field of view.  This allows the user to fit for the SP
             contamination in regions of lower surface brightness
             (e.g., an outer annulus for a cluster of galaxies) which
             can significantly improve the accuracy of the fit. 
    
</DD>
</DL>
</LI>
<LI><I>swcx</I> <SPAN CLASS="MATH"><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1.png"
 ALT="$-$"></SPAN> FORTRAN
    <DL COMPACT>
<DT> </DT>
<DD><I>swcx</I> produces images in detector coordinates
             of the model residual SWCX contamination.  To do so,
             it uses the fitted values of the SWCX component from
             Xspec and standard detector maps.
    
</DD>
</DL>
</LI>
</UL>

<P>

<DIV CLASS="navigation"><IMG BORDER="0" SRC="../icons/bar.gif">
<BR><A HREF="node2.html"><IMG BORDER="0" SRC="../icons/prev.gif" ALT="Use"></A>
<A HREF="esas.html"><IMG BORDER="0" SRC="../icons/up.gif" ALT="Home Page"></A>
<A HREF="node4.html"><IMG BORDER="0" SRC="../icons/next.gif" ALT="Parameters"></A>
<A HREF="index.html"><IMG BORDER="0" SRC="../icons/home.gif" ALT="Home"></A>

<A HREF="node12.html"><IMG BORDER="0" SRC="../icons/index.gif" ALT="Index"></A>
</DIV>
<!--End of Navigation Panel-->
<ADDRESS>
XMM-Newton SOC/SSC -- 2017-01-12
</ADDRESS>
</BODY>
</HTML>
