<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2016 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Testing</TITLE>
<META NAME="description" CONTENT="Testing">
<META NAME="keywords" CONTENT="omvariability">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2016">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="omvariability.css">

<LINK REL="next" HREF="node13.html">
<LINK REL="previous" HREF="node10.html">
<LINK REL="up" HREF="omvariability.html">
<LINK REL="next" HREF="node13.html">
</HEAD>

<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#0000EE"VLINK="#551A8B" ALINK="#FF0000"><A HREF=http://xmm.esac.esa.int/sas/><IMG SRC="../icons/xmmsaslogo.gif" ALT="XMM-Newton SAS Home Page" HEIGHT=60 WIDTH=60 ALIGN="LEFT"></A>
<DIV ALIGN=RIGHT><B><FONT SIZE=+2>XMM-Newton Science Analysis System</FONT>
<BR>
<BR>
<BR>
omvariability (omvariability-1.3) [xmmsas_20170112_1337-16.0.0]</B></DIV>
<BR CLEAR=ALL>

<DIV CLASS="navigation"><A HREF="node11.html"><IMG BORDER="0" SRC="../icons/prev.gif" ALT="Variability statistics"></A>
<A HREF="omvariability.html"><IMG BORDER="0" SRC="../icons/up.gif" ALT="Home Page"></A>
<A HREF="node13.html"><IMG BORDER="0" SRC="../icons/next.gif" ALT="Future developments"></A>
<A HREF="index.html"><IMG BORDER="0" SRC="../icons/home.gif" ALT="Home"></A>

<A HREF="node15.html"><IMG BORDER="0" SRC="../icons/index.gif" ALT="Index"></A>
<BR><IMG BORDER="0" SRC="../icons/bar.gif">
<BR><A  HREF="../packages.html">Meta Index</A> / <A  HREF="omvariability.html">Home Page</A></DIV>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION000100000000000000000">
Testing</A>
</H1>

<P>
The aim of the test is to demonstrate that <SPAN  CLASS="textbf">omvariability</SPAN>
correctly computes variability parameters for each common source in the list of 
input <SPAN  CLASS="textbf">SWS</SPAN> source-list files and correctly adds the data in the correct 
positions in the given output file.

<P>
The test directory for omvariability contains a shell program that performs the following:

<UL>
<LI>Runs the program <SPAN  CLASS="textbf">createfiles</SPAN> that produces-

<P>

<UL>
<LI>A master source list file (<SPAN  CLASS="textbf">masterfile.fits</SPAN> that contains celestial
coordinates, corrected count-rates and errors, source extension,
confusion and quality flags. This file has a similar structure to
that of an observation source-list file produced by the <SPAN  CLASS="textbf">SAS</SPAN>
task <SPAN  CLASS="textbf">omsrclistcomb</SPAN>.

<P>
</LI>
<LI>Four source-list files each containing a list of sources
taken randomly from the  master source-list file.  Each source has a random small
error added to the corrected count-rate. These files would be the input source-lists
to <SPAN  CLASS="textbf">omsrclistcomb</SPAN> that would produce the output file <SPAN  CLASS="textbf">masterfile.fits</SPAN>.

<P>
</LI>
<LI>A reference source-list file (<SPAN  CLASS="textbf">checkfile.fits</SPAN>, first copied from <SPAN  CLASS="textbf">masterfile.fits</SPAN>,
and then having variability columns <SPAN  CLASS="textbf">V_CHI2</SPAN> and <SPAN  CLASS="textbf">V_NSTD</SPAN> added. These columns
are computed using the <SPAN  CLASS="textbf">corrected count-rates</SPAN> for each source in a <SPAN  CLASS="textbf">SWS</SPAN> file that corresponds
to a given source in  <SPAN  CLASS="textbf">masterfile.fits</SPAN>. 

<P>
</LI>
</UL>

<P>
</LI>
<LI>Runs <SPAN  CLASS="textbf">omvariability</SPAN> with the parameter <SPAN  CLASS="textbf">srclistsets</SPAN> set to the list of
<SPAN  CLASS="textbf">SWS</SPAN> files and the parameter <SPAN  CLASS="textbf">outset</SPAN> set to the file <SPAN  CLASS="textbf">masterfile.fits</SPAN>

<P>
</LI>
<LI>Runs the program <SPAN  CLASS="textbf">checkoutput</SPAN> that compares the celestial-coordinates and variability parameters
stored in the <SPAN  CLASS="textbf">SRCLIST</SPAN> tables <SPAN  CLASS="textbf">masterfile.fits</SPAN> with those stored in <SPAN  CLASS="textbf">checkfile.fits</SPAN>.
For any column (eg <SPAN  CLASS="textbf">RA</SPAN> or <SPAN  CLASS="textbf">V_CHI2</SPAN> the values in each row of the two tables are compared, and any
difference in the quantities that exceeds a tolerance of 1e-6 is considered to be an error and the test-harness
fails outputting details where the failure occurred.

<P>
<SPAN  CLASS="textbf">checkoutput</SPAN> also checks that the variability parameters are computed properly by computing
the parameters for 10 unique sources, each having a hard-wired list of multiply-detected sources, and comparing 
the computed and hard-wired values. Any difference greater than 1e-6 is reported as an error.

<P>
</LI>
</UL>

<P>
For more thorough development testing, the number of <SPAN  CLASS="textbf">SWS</SPAN> files can be set to any number by editing
the program <SPAN  CLASS="textbf">createfiles</SPAN>.

<P>

<DIV CLASS="navigation"><IMG BORDER="0" SRC="../icons/bar.gif">
<BR><A HREF="node11.html"><IMG BORDER="0" SRC="../icons/prev.gif" ALT="Variability statistics"></A>
<A HREF="omvariability.html"><IMG BORDER="0" SRC="../icons/up.gif" ALT="Home Page"></A>
<A HREF="node13.html"><IMG BORDER="0" SRC="../icons/next.gif" ALT="Future developments"></A>
<A HREF="index.html"><IMG BORDER="0" SRC="../icons/home.gif" ALT="Home"></A>

<A HREF="node15.html"><IMG BORDER="0" SRC="../icons/index.gif" ALT="Index"></A>
</DIV>
<!--End of Navigation Panel-->
<ADDRESS>
XMM-Newton SOC/SSC -- 2017-01-12
</ADDRESS>
</BODY>
</HTML>
